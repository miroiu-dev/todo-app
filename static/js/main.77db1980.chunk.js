(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{28:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),o=n(19),s=n.n(o),i=(n(28),n(10)),l=n(9),r=n.n(l),d=n(2),u=n(20),j=n(4),b=n(22),m=n(5),O=function(e){var t=e.children,n=e.outline,a=e.className,o=Object(b.a)(e,["children","outline","className"]),s=Object(m.a)("button",a,n&&"outline");return Object(c.jsx)("button",Object(d.a)(Object(d.a)({},o),{},{className:s,children:t}))},f=(n(30),function(e){var t=e.task,n=e.onRemove,a=e.showCompleted,o=e.onEdit,s=Object(m.a)("task-container",t.completed&&"completed"),i=Object(m.a)("task-title",t.completed&&"completed");return Object(c.jsxs)("div",{className:s,children:[Object(c.jsxs)("div",{className:"task-content",onClick:function(){return a(t.id)},children:[Object(c.jsx)("h3",{className:i,children:t.title}),Object(c.jsx)("p",{className:"task-title",children:t.content})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(O,{className:"edit",onClick:function(){return o(t)},children:"Edit"}),Object(c.jsx)(O,{className:"remove",onClick:function(){return n(t.id)},children:"Remove"})]})]})}),h=(n(31),function(e){var t=e.tasks,n=e.onRemove,a=e.showCompleted,o=e.onEdit,s=e.byCompleted,i=e.byTodo,l=e.byAll,r=function(e,t){return t.completed?e.filter((function(e){return e.completed})):t.todo?e.filter((function(e){return!e.completed})):e}(t,e.filter);return Object(c.jsxs)("div",{className:"task-list-container",children:[Object(c.jsx)("div",{className:"filter",children:Object(c.jsxs)("div",{className:"filter-content",children:[Object(c.jsx)("h3",{children:"Filter by:"}),Object(c.jsxs)("div",{className:"filter-btn-container",children:[Object(c.jsx)(O,{className:"finished",onClick:s,children:"Completed"}),Object(c.jsx)(O,{className:"todo",onClick:i,children:"Todo"}),Object(c.jsx)(O,{className:"unfiltered",onClick:l,children:"All"})]})]})}),r.map((function(e){return Object(c.jsx)(f,{task:e,onRemove:n,showCompleted:a,onEdit:o},e.id)}))]})}),v=(n(32),function(e){var t=e.label,n=e.value,a=e.onChange,o=e.hasError,s=Object(m.a)("title-input input",o&&"required");return Object(c.jsxs)("div",{className:s,children:[Object(c.jsx)("label",{htmlFor:t,className:"label-box",children:t}),Object(c.jsx)("input",{id:t,type:"text",className:"text-box",value:n,onChange:a})]})}),p=(n(33),n(34),function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),c=n[0],o=n[1],s=Object(a.useCallback)((function(t){e.current&&!e.current.contains(t.target)&&o(!1)}),[e]);return Object(a.useEffect)((function(){return document.addEventListener("click",s),function(){document.removeEventListener("click",s)}}),[s]),{isFocused:c,addFocus:function(){c||o(!0)}}}),x=function(e){var t=e.theme,n=e.onClick,o=Object(a.useRef)(null),s=p(o),i=s.isFocused,l=s.addFocus,r=Object(m.a)("thumb",i&&"focused","dark"===t&&"toggled");return Object(c.jsxs)("div",{className:"wrapper",onClick:function(){n(),l()},ref:o,children:[Object(c.jsx)("div",{className:"moon-wrapper",children:Object(c.jsx)("span",{className:"moon",children:"\ud83c\udf1c"})}),Object(c.jsx)("div",{className:"sun-wrapper",children:Object(c.jsx)("span",{className:"sun",children:"\ud83c\udf1e"})}),Object(c.jsx)("div",{className:r})]})},k=localStorage.getItem("theme"),N=function(e){var t=e.addTask,n=e.onEditCancel,o=e.editTask,s=e.saveEditTask,i=Object(a.useState)(o?o.title:""),l=Object(j.a)(i,2),r=l[0],u=l[1],b=Object(a.useState)(o?o.content:""),m=Object(j.a)(b,2),O=m[0],f=m[1],h=Object(a.useState)({title:!1,content:!1}),p=Object(j.a)(h,2),N=p[0],g=p[1],C=Object(a.useState)(k||"dark"),E=Object(j.a)(C,2),S=E[0],y=E[1];Object(a.useEffect)((function(){document.documentElement.setAttribute("data-theme",S),localStorage.setItem("theme",S)}),[S]);var T=function(){r.trim()&&O.trim()&&(t(r,O),u(""),f("")),g({title:!r.trim(),content:!O.trim()})};return Object(c.jsxs)("div",{className:"add-todo-container",onKeyPress:function(e){return"Enter"===e.key&&T()},children:[Object(c.jsxs)("div",{className:"task-tracker-container",children:[Object(c.jsx)("h2",{className:"task-tracker",children:"Task Tracker"}),Object(c.jsxs)("div",{className:"btns-container-add",children:[!o&&Object(c.jsx)(x,{theme:S,onClick:function(){y((function(e){return"dark"===e?"light":"dark"}))}}),!o&&Object(c.jsx)("button",{className:"btn",onClick:T,children:"Add"})]}),o&&Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"btn edit margin",onClick:function(){return e=r,t=O,o&&e.length&&t.length&&(s(o.id,r,O),u(""),f("")),void g({title:0===r.length,content:0===O.length});var e,t},children:"Edit"}),Object(c.jsx)("button",{className:"btn cancel",onClick:function(){n(),u(""),f("")},children:"Cancel"})]})]}),Object(c.jsxs)("div",{className:"todo-create-container",children:[Object(c.jsx)(v,{label:"Title:",value:r,onChange:function(e){u(e.target.value),g(Object(d.a)(Object(d.a)({},N),{},{title:!e.target.value}))},hasError:N.title}),Object(c.jsx)(v,{label:"Todo:",value:O,onChange:function(e){f(e.target.value),g(Object(d.a)(Object(d.a)({},N),{},{content:!e.target.value}))},hasError:N.content})]})]})},g=(n(35),n(21)),C=n.n(g),E=JSON.parse(localStorage.getItem("todos")||"null"),S=function(){var e=Object(a.useState)(E||[]),t=Object(j.a)(e,2),n=t[0],o=t[1],s=Object(a.useState)(null),l=Object(j.a)(s,2),b=l[0],m=l[1],O=Object(a.useState)({completed:!1,todo:!1,all:!0}),f=Object(j.a)(O,2),v=f[0],p=f[1];Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=5;break}return e.next=3,C()("https://jsonplaceholder.typicode.com/todos");case 3:t=e.sent,o(t.data.slice(0,4).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{content:e.title})})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(n))}),[n]);var x=function(){m(null)};return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(N,{addTask:function(e,t){var c={id:Math.floor(1e3*Math.random()),title:e,content:t,completed:!1};console.log([].concat(Object(i.a)(n),[c])),o([].concat(Object(i.a)(n),[c]))},editTask:b,saveEditTask:function(e,t,c){o(n.map((function(n){return n.id===e?Object(d.a)(Object(d.a)({},n),{},{title:t,content:c}):n}))),m(null)},onEditCancel:x},b&&b.id),n.length>0&&Object(c.jsx)(h,{tasks:n,onRemove:function(e){b&&e===b.id&&x(),o(n.filter((function(t){return t.id!==e})))},showCompleted:function(e){o(n.map((function(t){return t.id===e?Object(d.a)(Object(d.a)({},t),{},{completed:!t.completed}):t})))},onEdit:function(e){m(e)},byCompleted:function(){p(Object(d.a)(Object(d.a)({},v),{},{todo:!1,all:!1,completed:!0}))},byTodo:function(){p(Object(d.a)(Object(d.a)({},v),{},{todo:!0,all:!1,completed:!1}))},byAll:function(){p(Object(d.a)(Object(d.a)({},v),{},{todo:!1,all:!0,completed:!1}))},filter:v})]})};Number.parseFloat(localStorage.getItem("version")||"0")<1.2&&(console.log("Outdated app: removing local storage"),localStorage.removeItem("todos")),localStorage.setItem("version",JSON.stringify(1.2));var y=function(){return Object(c.jsx)(S,{})};s.a.render(Object(c.jsx)(y,{}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.77db1980.chunk.js.map